(this.webpackJsonpapiexercise=this.webpackJsonpapiexercise||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var s=n(2),r=n.n(s),a=n(19),c=n.n(a),o=n(17),i=(n(37),n(12)),d=n(14),l=n(21),h=n(16),j=n(15),u=(n(38),n(7)),b=n(65),p=n(66),O=n(67),x=n(68),f=n(69),m=n(70),v=n(58),y=n(59),g=n(60),k=n(61),T=n(62),D=n(63),N=n(64),C=n(13),I=n.n(C),M=n(22),P="https://jsonplaceholder.typicode.com",S=function e(){Object(i.a)(this,e),this.getData=Object(M.a)(I.a.mark((function e(){var t,n,s=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",e.next=3,fetch(P+t,{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)}))),this.postData=Object(M.a)(I.a.mark((function e(){var t,n,s,r=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(P+t,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)});case 4:return s=e.sent,e.abrupt("return",s.json());case 6:case"end":return e.stop()}}),e)}))),this.putData=Object(M.a)(I.a.mark((function e(){var t,n,s,r=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(P+t,{method:"PUT",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)});case 4:return s=e.sent,e.abrupt("return",s.json());case 6:case"end":return e.stop()}}),e)}))),this.deleteData=Object(M.a)(I.a.mark((function e(){var t,n,s=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",e.next=3,fetch(P+t,{method:"DELETE",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})))},E=n(1),w=new S,B=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={isModalOpen:!1,toggleModal:function(){s.setState({isModalOpen:!s.state.isModalOpen,postId:null,userId:null,postTitle:"",postBody:""})},modalMode:null,setModalMode:function(e){s.setState({modalMode:e})},modalTitle:null,setModalTitle:function(e){s.setState({modalTitle:e})},postId:null,userId:null,postTitle:"",postBody:"",setPostId:function(e){s.setState({postId:e})},setUserId:function(e){s.setState({userId:e})},setPostTitle:function(e){s.setState({postTitle:e})},setPostBody:function(e){s.setState({postBody:e})}},s}return Object(d.a)(n,[{key:"renderModal",value:function(){var e=this,t=this.props.props,n=t.handleEdit,s=t.handleCreate,r=this.state,a=r.isModalOpen,c=r.toggleModal,o=r.modalTitle,i=r.modalMode,d=r.postId,l=r.userId,h=r.postTitle,j=r.postBody;return Object(E.jsxs)(m.a,{isOpen:a,toggle:c,children:[Object(E.jsx)(v.a,{children:o}),Object(E.jsxs)(y.a,{children:[Object(E.jsx)("label",{children:"Post Title"}),Object(E.jsx)(g.a,{type:"text",placeholder:"Post Title",value:h,onChange:function(t){e.setState({postTitle:t.target.value})}}),Object(E.jsx)("label",{children:"Post Body"}),Object(E.jsx)(g.a,{type:"textarea",rows:4,placeholder:"Post Body",value:j,onChange:function(t){e.setState({postBody:t.target.value})}})]}),Object(E.jsxs)(k.a,{children:[Object(E.jsx)(T.a,{color:"primary",onClick:function(){"edit"===i&&(h&&j?w.putData("/posts/".concat(d),{id:d,title:h,body:j,userId:l}).then((function(e){n(e),c()})):alert("Inputs can't be left empty")),"create"===i&&(h&&j?w.postData("/posts/",{title:h,body:j,userId:1}).then((function(e){s(e),c()})):alert("Inputs can't be left empty"))},children:"Save"}),Object(E.jsx)(T.a,{color:"secondary",onClick:c,children:"Back"})]})]})}},{key:"renderLoading",value:function(){return Object(E.jsx)("tr",{children:Object(E.jsx)("td",{className:"text-center",colSpan:8,children:"Duke ngarkuar te dhenat..."})})}},{key:"renderNoData",value:function(){return Object(E.jsx)("tr",{children:Object(E.jsx)("td",{colSpan:8,children:"Nuk ka te dhena."})})}},{key:"renderData",value:function(){var e=this.props.props,t=e.users,n=e.posts,s=e.handleDelete,r=this.state,a=r.setPostId,c=r.setUserId,o=r.setPostTitle,i=r.setPostBody,d=r.toggleModal,l=r.setModalTitle,h=r.setModalMode,j=[];return n?(n.forEach((function(e,n){t.forEach((function(t){e.userId===t.id&&j.push(Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:n+1}),Object(E.jsx)("td",{children:t.name}),Object(E.jsx)("td",{children:t.username}),Object(E.jsx)("td",{children:t.email}),Object(E.jsx)("td",{children:e.title}),Object(E.jsx)("td",{children:t.company.name}),Object(E.jsx)("td",{children:e.body}),Object(E.jsxs)("td",{style:{width:"250px"},children:[Object(E.jsx)(T.a,{className:"mx-2",color:"primary",onClick:function(){l("Edit Post"),h("edit"),d(),a(e.id),c(t.id),o(e.title),i(e.body)},children:"Edit"}),Object(E.jsx)(T.a,{color:"danger",onClick:function(){w.deleteData("/posts/".concat(e.id)).then((function(t){s(e.id)}))},children:"Delete"})]})]},e.id))}))})),j):null}},{key:"renderTable",value:function(){var e=this.props.props,t=e.users,n=e.loading;return Object(E.jsxs)(D.a,{dark:!0,responsive:!0,children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"NR"}),Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Username"}),Object(E.jsx)("th",{children:"E-Mail"}),Object(E.jsx)("th",{children:"Post Title"}),Object(E.jsx)("th",{children:"Company Name"}),Object(E.jsx)("th",{children:"Post Body"}),Object(E.jsx)("th",{className:"text-center",children:"Action"})]})}),Object(E.jsxs)("tbody",{children:[n&&this.renderLoading(),!n&&!t&&this.renderNoData(),t&&this.renderData()]})]})}},{key:"render",value:function(){var e=this.state,t=e.setModalTitle,n=e.setModalMode,s=e.toggleModal;return Object(E.jsx)(r.a.Fragment,{children:Object(E.jsx)("div",{className:"page-content",children:Object(E.jsxs)(N.a,{className:"px-5 py-3",fluid:!0,children:[this.renderModal(),Object(E.jsx)(T.a,{onClick:function(){t("Create Post"),n("create"),s()},className:"mb-3",color:"success",children:"Create a Post"}),this.renderTable()]})})})}}]),n}(s.Component),U=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={},s}return Object(d.a)(n,[{key:"renderLoading",value:function(){return Object(E.jsx)("tr",{children:Object(E.jsx)("td",{className:"text-center",colSpan:8,children:"Duke ngarkuar te dhenat..."})})}},{key:"renderNoData",value:function(){return Object(E.jsx)("tr",{children:Object(E.jsx)("td",{colSpan:8,children:"Nuk ka te dhena."})})}},{key:"renderData",value:function(){var e=this.props.props,t=e.users,n=e.posts,s=e.comments,r=e.todos,a=[],c=[],i=0,d=0,l=0;return t?(t.forEach((function(e,t){n&&n.forEach((function(t){t.userId===e.id&&(c.push(t.id),i++)})),s&&c.forEach((function(t){s.forEach((function(n){n.postId===t&&e.email===n.email&&d++}))})),r&&r.forEach((function(t){t.completed&&t.userId===e.id&&l++})),a.push(Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:t+1}),Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.username}),Object(E.jsx)("td",{children:e.email}),Object(E.jsx)("td",{children:e.company.name}),Object(E.jsx)("td",{children:Object(E.jsx)(o.b,{to:"/users/".concat(e.id),children:i})}),Object(E.jsx)("td",{children:d}),Object(E.jsx)("td",{children:l})]},e.id)),c=[],i=0,d=0,l=0})),a):null}},{key:"renderTable",value:function(){var e=this.props.props,t=e.users,n=e.loading;return Object(E.jsxs)(D.a,{dark:!0,responsive:!0,children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"NR"}),Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Username"}),Object(E.jsx)("th",{children:"E-Mail"}),Object(E.jsx)("th",{children:"Company Name"}),Object(E.jsx)("th",{children:"Nr Posts"}),Object(E.jsx)("th",{children:"Nr Comments"}),Object(E.jsx)("th",{children:"Nr Todos"})]})}),Object(E.jsxs)("tbody",{children:[n&&this.renderLoading(),!n&&!t&&this.renderNoData(),t&&this.renderData()]})]})}},{key:"render",value:function(){return Object(E.jsx)(r.a.Fragment,{children:Object(E.jsx)("div",{className:"page-content",children:Object(E.jsx)(N.a,{className:"px-5 py-3",fluid:!0,children:this.renderTable()})})})}}]),n}(s.Component),L=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={id:null,setUserId:function(e){s.setState({id:e})}},s}return Object(d.a)(n,[{key:"componentDidMount",value:function(){(0,this.state.setUserId)(this.props.match.params.userId)}},{key:"renderLoading",value:function(){return Object(E.jsx)("tr",{children:Object(E.jsx)("td",{className:"text-center",colSpan:8,children:"Duke ngarkuar te dhenat..."})})}},{key:"renderNoData",value:function(){return Object(E.jsx)("tr",{children:Object(E.jsx)("td",{colSpan:8,children:"Nuk ka te dhena."})})}},{key:"renderData",value:function(){var e=this.props.props,t=e.posts,n=e.comments,s=this.state.id,r=[];return t&&t.forEach((function(e){e.userId==s&&n&&n.forEach((function(t){t.postId===e.id&&r.push(Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.title}),Object(E.jsx)("td",{children:e.body}),Object(E.jsx)("td",{children:t.name}),Object(E.jsx)("td",{children:t.body})]},t.id))}))})),r}},{key:"renderTable",value:function(){var e=this.props.props.posts;return Object(E.jsxs)(D.a,{dark:!0,responsive:!0,children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Post Title"}),Object(E.jsx)("th",{children:"Post Body"}),Object(E.jsx)("th",{children:"Comment Name"}),Object(E.jsx)("th",{children:"Comment Body"})]})}),Object(E.jsx)("tbody",{children:e&&this.renderData()})]})}},{key:"render",value:function(){return Object(E.jsx)(r.a.Fragment,{children:Object(E.jsx)("div",{className:"page-content",children:Object(E.jsx)(N.a,{className:"px-5 py-3",fluid:!0,children:this.renderTable()})})})}}]),n}(s.Component),F=Object(u.f)(L),J=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={users:null,posts:null,comments:null,todos:null,loading:!0,setUsers:function(e){s.setState({users:e})},setPosts:function(e){s.setState({posts:e})},setLoading:function(e){s.setState({loading:e})},setComments:function(e){s.setState({comments:e})},setTodos:function(e){s.setState({todos:e})}},s.handleEdit=s.handleEdit.bind(Object(l.a)(s)),s.handleDelete=s.handleDelete.bind(Object(l.a)(s)),s.handleCreate=s.handleCreate.bind(Object(l.a)(s)),s}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=new S,t=this.state,n=t.setUsers,s=t.setPosts,r=t.setLoading,a=t.setComments,c=t.setTodos;e.getData("/users").then((function(e){n(e),r(!1)})),e.getData("/posts").then((function(e){s(e)})),e.getData("/comments").then((function(e){a(e)})),e.getData("/todos").then((function(e){c(e)}))}},{key:"handleCreate",value:function(e){var t=this.state,n=t.posts;(0,t.setPosts)([e].concat(n))}},{key:"handleEdit",value:function(e){var t=this.state,n=t.posts,s=t.setPosts,r=[];n&&n.forEach((function(t){t.id===e.id&&(t=e),r.push(t)})),s(r)}},{key:"handleDelete",value:function(e){var t=this.state,n=t.posts;(0,t.setPosts)(n.filter((function(t){return t.id!==e})))}},{key:"render",value:function(){var e=this.state,t=e.users,n=e.posts,s=e.loading,a=e.comments,c=e.todos;return Object(E.jsx)(r.a.Fragment,{children:Object(E.jsx)(o.a,{children:Object(E.jsxs)("div",{children:[Object(E.jsxs)(b.a,{color:"dark",dark:!0,expand:"md",children:[Object(E.jsx)(p.a,{onClick:function(){console.log("toggle")}}),Object(E.jsx)(O.a,{isOpen:!0,navbar:!0,children:Object(E.jsxs)(x.a,{className:"mr-auto",navbar:!0,children:[Object(E.jsx)(f.a,{children:Object(E.jsx)(o.b,{className:"text-white mr-2",to:"/",children:"Posts"})}),Object(E.jsx)(f.a,{children:Object(E.jsx)(o.b,{className:"text-white",to:"/users",children:"Comments"})})]})})]}),Object(E.jsxs)(u.c,{children:[Object(E.jsx)(u.a,{path:"/users/:userId",children:Object(E.jsx)(F,{props:{posts:n,comments:a}})}),Object(E.jsx)(u.a,{path:"/users",children:Object(E.jsx)(U,{props:{posts:n,users:t,comments:a,todos:c,loading:s}})}),Object(E.jsx)(u.a,{path:"/",children:Object(E.jsx)(B,{props:{posts:n,users:t,loading:s,handleCreate:this.handleCreate,handleEdit:this.handleEdit,handleDelete:this.handleDelete}})})]})]})})})}}]),n}(s.Component);n(56);c.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(o.a,{children:Object(E.jsx)(J,{})})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.e1020b67.chunk.js.map